{"code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var a=e=>{if(\"films\"==e)for(;filmList.firstChild;)filmList.removeChild(filmList.firstChild);if(\"film\"==e)for(;filmPage.firstChild;)filmPage.removeChild(filmPage.firstChild)};var i=async e=>{let t=await fetch(e),n=await t.json(),a=n.imdbID;a=a.replace(\" \",\"\");const i=document.createElement(\"div\");i.setAttribute(\"class\",\"poster\");const c=new Image,l=document.createElement(\"h1\"),r=document.createElement(\"span\");if(localStorage.getItem(a)?r.setAttribute(\"class\",\"fa fa-star icon\"):r.setAttribute(\"class\",\"fa fa-star-o icon\"),n.Poster&&\"N/A\"!=n.Poster?(c.src=n.Poster,l.innerText=n.Title):l.innerText=n.Title+\" ( !!! Постер отсутствует !!! )\",filmPage.appendChild(i),i.appendChild(r),i.appendChild(c),filmPage.appendChild(l),n.Released){const e=document.createElement(\"h2\");e.innerText=\"Дата выхода: \"+n.Released,filmPage.appendChild(e)}if(n.Runtime){const e=document.createElement(\"h3\");e.innerText=\"Длительность: \"+n.Runtime,filmPage.appendChild(e)}if(n.Genre){const e=document.createElement(\"h4\");e.innerText=\"Жанр: \"+n.Genre,filmPage.appendChild(e)}if(n.BoxOffice){const e=document.createElement(\"h5\");e.innerText=\"Бюджет: \",\"N/A\"!=n.BoxOffice?e.innerText+=n.BoxOffice:e.innerText+=\"Неизвестно\",filmPage.appendChild(e)}console.log(n),r.addEventListener(\"click\",()=>{localStorage.getItem(a)?(localStorage.removeItem(a),r.setAttribute(\"class\",\"fa fa-star-o icon\")):(localStorage.setItem(a,\"true\"),r.setAttribute(\"class\",\"fa fa-star icon\"))})};var c=async e=>{try{let t=await fetch(e),n=await t.json();if(n)for(let e=0;e<n.Search.length;e++)if(\"N/A\"!=n.Search[e].Title&&\"N/A\"!=n.Search[e].Year){let t=n.Search[e].imdbID;t=t.replace(\" \",\"\");const a=document.createElement(\"div\");a.setAttribute(\"class\",\"movieSection\");const i=document.createElement(\"div\");i.setAttribute(\"class\",\"movieImg\");const c=document.createElement(\"span\");localStorage.getItem(t)?c.setAttribute(\"class\",\"fa fa-star icon\"):c.setAttribute(\"class\",\"fa fa-star-o icon\");const l=new Image,r=document.createElement(\"div\");r.setAttribute(\"class\",\"movieDescription\"),r.setAttribute(\"id\",t);const o=document.createElement(\"div\");o.setAttribute(\"class\",\"text\");const s=document.createElement(\"h2\"),d=document.createElement(\"span\");d.innerHTML=n.Search[e].Title,s.innerHTML=\"(\"+n.Search[e].Year+\") \",\"N/A\"==n.Search[e].Poster?l.src=\"images/not_found.jpg\":l.src=n.Search[e].Poster,document.getElementById(\"content\").appendChild(a),a.appendChild(i),i.appendChild(c),i.appendChild(l),i.appendChild(r),r.appendChild(o),o.appendChild(s),s.appendChild(d),c.addEventListener(\"click\",()=>{localStorage.getItem(t)?(localStorage.removeItem(t),c.setAttribute(\"class\",\"fa fa-star-o icon\")):(localStorage.setItem(t,\"true\"),c.setAttribute(\"class\",\"fa fa-star icon\"))})}}catch(e){if(\"\"!=query.value){clearBlock(\"films\");let e=document.createElement(\"h3\");e.innerText='Фильм \"'+query.value+'\" не найден!',document.getElementById(\"content\").appendChild(e)}else{clearBlock(\"films\");let e=document.createElement(\"h3\");e.innerText=\"Впишите название фильма в поле выше.\",document.getElementById(\"content\").appendChild(e)}}};let l=document.getElementById(\"searchButton\"),r=document.getElementById(\"content\"),o=document.getElementsByTagName(\"section\")[0],s=document.getElementsByTagName(\"header\")[0],d=document.createElement(\"div\");d.setAttribute(\"id\",\"film-content\");let m,u=document.createElement(\"i\");u.setAttribute(\"class\",\"fa fa-arrow-left back hide\"),l.addEventListener(\"click\",()=>{r.classList.remove(\"hide\"),d.classList.add(\"hide\"),u.classList.add(\"hide\"),event.preventDefault(),a(\"films\"),c(\"http://www.omdbapi.com/?s=\"+query.value.toLowerCase().replace(\" \",\"+\")+\"&apikey=d5677312\")}),r.addEventListener(\"click\",e=>{a(\"film\");let t=e.target;\"movieImg\"!=t.className&&\"movieDescription\"!=t.className||\"fa fa-star icon\"==t.className&&\"fa fa-star-o icon\"==t.className||(m=document.documentElement.scrollTop,document.body.scrollTop=document.documentElement.scrollTop=0,r.classList.add(\"hide\"),d.classList.remove(\"hide\"),s.appendChild(u),u.classList.remove(\"hide\"),o.appendChild(d),i(\"http://www.omdbapi.com/?i=\"+t.id.replace(\" \",\"\")+\"&apikey=d5677312\"))}),u.addEventListener(\"click\",()=>{document.body.scrollTop=document.documentElement.scrollTop=m,a(\"films\"),c(\"http://www.omdbapi.com/?s=\"+query.value.toLowerCase().replace(\" \",\"+\")+\"&apikey=d5677312\"),r.classList.remove(\"hide\"),d.classList.add(\"hide\"),u.classList.add(\"hide\")})}]);","extractedComments":[]}